
if (canPlayerMove()) {
  if (isUndoPressed()) {
    undo_stack_undo();
  }
}